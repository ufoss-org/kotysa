dependencies {
    api project(':kotysa-core')

    // import BOMs
    testImplementation platform("org.testcontainers:testcontainers-bom:$testcontainers_bom_version")
    testImplementation platform("org.springframework.boot:spring-boot-dependencies:$spring_boot_version")

    implementation "org.springframework:spring-jdbc:$spring_core_version"
    implementation 'org.jetbrains.kotlin:kotlin-reflect'

    testImplementation testFixtures(project(':kotysa-core'))
    
    testImplementation 'org.springframework:spring-context'
    testImplementation "org.jetbrains.kotlinx:kotlinx-datetime:$kotlinx_datetime_version"
    testImplementation 'org.junit.jupiter:junit-jupiter-api'
    testImplementation 'org.testcontainers:testcontainers'

    testImplementation 'com.h2database:h2'
    testImplementation 'mysql:mysql-connector-java'
    testImplementation 'com.microsoft.sqlserver:mssql-jdbc'
    testImplementation 'org.mariadb.jdbc:mariadb-java-client'
    testImplementation 'com.oracle.database.jdbc:ojdbc11'
    testImplementation 'org.postgresql:postgresql'
    
    testRuntimeOnly 'org.testcontainers:postgresql'
    testRuntimeOnly 'org.testcontainers:mysql'
    testRuntimeOnly 'org.testcontainers:mssqlserver'
    testRuntimeOnly 'org.testcontainers:oracle-xe'
    
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
}

compileKotlin {
    kotlinOptions {
        freeCompilerArgs = ['-Xjsr305=strict', '-Xjvm-default=all-compatibility', '-Xexplicit-api=strict']
        jvmTarget = '11'
    }
}

compileTestKotlin {
    kotlinOptions {
        freeCompilerArgs = ['-Xjsr305=strict', '-Xjvm-default=all-compatibility']
        jvmTarget = '11'
    }
}
